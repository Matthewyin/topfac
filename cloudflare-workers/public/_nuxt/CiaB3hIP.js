import{d as H,r as K,k as b,x as u,z as a,B as s,C as e,g as c,y as r,D as o,A as d,N as x,O as D,P as y,M as g,_ as Q}from"./CmizF3kP.js";const R={class:"parsed-data-viewer"},W={key:0,class:"data-loading"},X={class:"text-center pa-8"},Y={key:1,class:"data-empty"},Z={class:"text-center pa-12"},h={key:2,class:"data-content"},tt={class:"data-header"},et={class:"pa-4"},st={class:"data-overview mb-6"},at={class:"text-h6 font-weight-bold"},nt={class:"text-h6 font-weight-bold"},ot={class:"text-h6 font-weight-bold"},lt={class:"text-h6 font-weight-bold"},rt={class:"text-h6 font-weight-bold"},it={class:"data-tabs-content"},dt={class:"environments-section tab-content-container"},ut={key:0,class:"text-center pa-8"},_t={key:1},vt={class:"mb-2"},mt={key:0,class:"mb-2"},pt={class:"datacenters-section tab-content-container"},ft={key:0,class:"text-center pa-8"},ct={key:1},gt={class:"mb-2"},yt={class:"mb-2"},bt={class:"mb-2"},kt={key:0,class:"mb-2"},xt={class:"areas-section tab-content-container"},Dt={key:0,class:"text-center pa-8"},wt={key:1},zt={class:"mb-2"},Ct={class:"mb-2"},Vt={class:"mb-2"},Nt={class:"devices-section tab-content-container"},$t={key:0,class:"text-center pa-8"},Bt={key:1},Ot={key:0,class:"mb-2"},St={key:1,class:"mb-2"},jt={key:2,class:"mb-2"},At={key:3,class:"mb-2"},Jt={key:4,class:"mb-2"},Tt={key:5,class:"mb-2"},Mt={class:"attributes-text mt-1"},Pt={class:"text-content"},It={class:"mt-3 pa-2",style:{"background-color":"#f5f5f5","border-radius":"4px"}},Ut={class:"connections-section tab-content-container"},Et={key:0,class:"text-center pa-8"},Ft={key:1},Lt={class:"connection-flow mb-3"},qt={class:"d-flex align-center"},Gt={key:0,class:"mb-2"},Ht={key:1,class:"mb-2"},Kt={key:2,class:"mb-2"},Qt={class:"raw-data-section tab-content-container"},Rt={class:"raw-json-text"},Wt={class:"json-content"},Xt=H({__name:"ParsedDataViewer",props:{parsedData:{},loading:{type:Boolean}},setup(A){const v=A,O=K("environments"),J=b(()=>{var l,t,i;return((t=(l=v.parsedData)==null?void 0:l.statistics)==null?void 0:t.environment_count)!==void 0?v.parsedData.statistics.environment_count:(((i=v.parsedData)==null?void 0:i.environments)||[]).length}),T=b(()=>{var t,i,_;if(((i=(t=v.parsedData)==null?void 0:t.statistics)==null?void 0:i.datacenter_count)!==void 0)return v.parsedData.statistics.datacenter_count;let l=0;if((_=v.parsedData)!=null&&_.environments)for(const m of v.parsedData.environments)l+=(m.datacenters||[]).length;return l}),S=b(()=>{var t;const l=[];if((t=v.parsedData)!=null&&t.environments){for(const i of v.parsedData.environments)if(i.datacenters)for(const _ of i.datacenters)l.push({..._,environment_name:i.environment_name})}return l}),j=b(()=>{var t;const l=[];if((t=v.parsedData)!=null&&t.environments){for(const i of v.parsedData.environments)if(i.datacenters){for(const _ of i.datacenters)if(_.areas)for(const m of _.areas)l.push({...m,environment_name:i.environment_name,datacenter_name:_.datacenter_name})}}return l}),M=b(()=>{var t,i,_;if(((i=(t=v.parsedData)==null?void 0:t.statistics)==null?void 0:i.area_count)!==void 0)return v.parsedData.statistics.area_count;let l=0;if((_=v.parsedData)!=null&&_.environments){for(const m of v.parsedData.environments)if(m.datacenters)for(const k of m.datacenters)l+=(k.areas||[]).length}return l}),P=b(()=>{var l,t,i;return((t=(l=v.parsedData)==null?void 0:l.statistics)==null?void 0:t.component_count)!==void 0?v.parsedData.statistics.component_count:(((i=v.parsedData)==null?void 0:i.components)||[]).length}),I=b(()=>{var l,t,i;return((t=(l=v.parsedData)==null?void 0:l.statistics)==null?void 0:t.connection_count)!==void 0?v.parsedData.statistics.connection_count:(((i=v.parsedData)==null?void 0:i.connections)||[]).length});b(()=>{if(!v.parsedData||!v.parsedData.regions)return{regions:[],areas:[]};const l=[],t=[];for(const i of v.parsedData.regions)i.type==="region"?l.push(i):i.type==="area"?t.push(i):i.type||(!i.parent||i.parent===null?(l.push(i),i.sub_regions&&Array.isArray(i.sub_regions)&&t.push(...i.sub_regions)):t.push(i));return{regions:l,areas:t}});const U=l=>({access:"接入设备",core:"核心设备",network:"网络设备",security:"安全设备",storage:"存储设备",compute:"计算设备"})[l]||l,E=async()=>{if(v.parsedData)try{await navigator.clipboard.writeText(JSON.stringify(v.parsedData,null,2))}catch(l){console.error("复制失败:",l)}};return(l,t)=>{const i=c("v-progress-circular"),_=c("v-icon"),m=c("v-card"),k=c("v-col"),F=c("v-row"),w=c("v-tab"),L=c("v-tabs"),z=c("v-spacer"),p=c("v-chip"),C=c("v-card-title"),V=c("v-card-text"),N=c("v-tabs-window-item"),q=c("v-btn"),G=c("v-tabs-window");return r(),u("div",R,[l.loading?(r(),u("div",W,[a("div",X,[s(i,{indeterminate:"",color:"primary",size:"48"}),t[2]||(t[2]=a("p",{class:"text-body-2 text-grey-darken-1 mt-4"},"解析数据中...",-1))])])):l.parsedData?(r(),u("div",h,[a("div",tt,[a("div",et,[a("div",st,[t[16]||(t[16]=a("h3",{class:"text-h6 font-weight-bold mb-4"},"解析数据概览",-1)),s(F,null,{default:e(()=>[s(k,{cols:"6",md:"2"},{default:e(()=>[s(m,{variant:"outlined",class:"text-center pa-3"},{default:e(()=>[s(_,{color:"purple",size:"32",class:"mb-2"},{default:e(()=>t[6]||(t[6]=[o("mdi-earth")])),_:1,__:[6]}),a("div",at,d(J.value),1),t[7]||(t[7]=a("div",{class:"text-caption text-grey-darken-1"},"环境",-1))]),_:1,__:[7]})]),_:1}),s(k,{cols:"6",md:"2"},{default:e(()=>[s(m,{variant:"outlined",class:"text-center pa-3"},{default:e(()=>[s(_,{color:"primary",size:"32",class:"mb-2"},{default:e(()=>t[8]||(t[8]=[o("mdi-domain")])),_:1,__:[8]}),a("div",nt,d(T.value),1),t[9]||(t[9]=a("div",{class:"text-caption text-grey-darken-1"},"数据中心",-1))]),_:1,__:[9]})]),_:1}),s(k,{cols:"6",md:"2"},{default:e(()=>[s(m,{variant:"outlined",class:"text-center pa-3"},{default:e(()=>[s(_,{color:"info",size:"32",class:"mb-2"},{default:e(()=>t[10]||(t[10]=[o("mdi-folder-outline")])),_:1,__:[10]}),a("div",ot,d(M.value),1),t[11]||(t[11]=a("div",{class:"text-caption text-grey-darken-1"},"网络区域",-1))]),_:1,__:[11]})]),_:1}),s(k,{cols:"6",md:"2"},{default:e(()=>[s(m,{variant:"outlined",class:"text-center pa-3"},{default:e(()=>[s(_,{color:"success",size:"32",class:"mb-2"},{default:e(()=>t[12]||(t[12]=[o("mdi-router")])),_:1,__:[12]}),a("div",lt,d(P.value),1),t[13]||(t[13]=a("div",{class:"text-caption text-grey-darken-1"},"设备",-1))]),_:1,__:[13]})]),_:1}),s(k,{cols:"6",md:"2"},{default:e(()=>[s(m,{variant:"outlined",class:"text-center pa-3"},{default:e(()=>[s(_,{color:"warning",size:"32",class:"mb-2"},{default:e(()=>t[14]||(t[14]=[o("mdi-connection")])),_:1,__:[14]}),a("div",rt,d(I.value),1),t[15]||(t[15]=a("div",{class:"text-caption text-grey-darken-1"},"连接",-1))]),_:1,__:[15]})]),_:1})]),_:1})]),s(L,{modelValue:O.value,"onUpdate:modelValue":t[0]||(t[0]=n=>O.value=n),class:"mb-4","show-arrows":""},{default:e(()=>[s(w,{value:"environments"},{default:e(()=>t[17]||(t[17]=[o("环境")])),_:1,__:[17]}),s(w,{value:"datacenters"},{default:e(()=>t[18]||(t[18]=[o("数据中心")])),_:1,__:[18]}),s(w,{value:"areas"},{default:e(()=>t[19]||(t[19]=[o("网络区域")])),_:1,__:[19]}),s(w,{value:"devices"},{default:e(()=>t[20]||(t[20]=[o("设备")])),_:1,__:[20]}),s(w,{value:"connections"},{default:e(()=>t[21]||(t[21]=[o("连接")])),_:1,__:[21]}),s(w,{value:"raw"},{default:e(()=>t[22]||(t[22]=[o("原始数据")])),_:1,__:[22]})]),_:1},8,["modelValue"])])]),a("div",it,[s(G,{modelValue:O.value,"onUpdate:modelValue":t[1]||(t[1]=n=>O.value=n)},{default:e(()=>[s(N,{value:"environments"},{default:e(()=>[a("div",dt,[!l.parsedData.environments||l.parsedData.environments.length===0?(r(),u("div",ut,[s(_,{size:"48",color:"grey-lighten-1",class:"mb-2"},{default:e(()=>t[23]||(t[23]=[o("mdi-earth")])),_:1,__:[23]}),t[24]||(t[24]=a("p",{class:"text-body-2 text-grey-darken-1"},"暂无环境数据",-1))])):(r(),u("div",_t,[(r(!0),u(x,null,D(l.parsedData.environments,(n,f)=>(r(),y(m,{key:`env-${f}`,variant:"outlined",class:"mb-3"},{default:e(()=>[s(C,{class:"d-flex align-center"},{default:e(()=>[s(_,{class:"mr-2",color:"purple"},{default:e(()=>t[25]||(t[25]=[o("mdi-earth")])),_:1,__:[25]}),o(" "+d(n.environment_name||`环境 ${f+1}`)+" ",1),s(z),s(p,{size:"small",color:"purple",variant:"outlined"},{default:e(()=>t[26]||(t[26]=[o(" 环境 ")])),_:1,__:[26]})]),_:2},1024),s(V,null,{default:e(()=>{var $;return[a("div",vt,[t[27]||(t[27]=a("strong",null,"数据中心数量：",-1)),o(d((($=n.datacenters)==null?void 0:$.length)||0),1)]),n.datacenters&&n.datacenters.length>0?(r(),u("div",mt,[t[28]||(t[28]=a("strong",null,"包含数据中心：",-1)),(r(!0),u(x,null,D(n.datacenters,B=>(r(),y(p,{key:B.datacenter_name,size:"small",variant:"outlined",color:"primary",class:"mr-1 mt-1"},{default:e(()=>[o(d(B.datacenter_name),1)]),_:2},1024))),128))])):g("",!0)]}),_:2},1024)]),_:2},1024))),128))]))])]),_:1}),s(N,{value:"datacenters"},{default:e(()=>[a("div",pt,[S.value.length===0?(r(),u("div",ft,[s(_,{size:"48",color:"grey-lighten-1",class:"mb-2"},{default:e(()=>t[29]||(t[29]=[o("mdi-domain")])),_:1,__:[29]}),t[30]||(t[30]=a("p",{class:"text-body-2 text-grey-darken-1"},"暂无数据中心数据",-1))])):(r(),u("div",ct,[(r(!0),u(x,null,D(S.value,(n,f)=>(r(),y(m,{key:`dc-${f}`,variant:"outlined",class:"mb-3"},{default:e(()=>[s(C,{class:"d-flex align-center"},{default:e(()=>[s(_,{class:"mr-2",color:"primary"},{default:e(()=>t[31]||(t[31]=[o("mdi-domain")])),_:1,__:[31]}),o(" "+d(n.datacenter_name||`数据中心 ${f+1}`)+" ",1),s(z),s(p,{size:"small",color:"primary",variant:"outlined"},{default:e(()=>t[32]||(t[32]=[o(" 数据中心 ")])),_:1,__:[32]})]),_:2},1024),s(V,null,{default:e(()=>{var $;return[a("div",gt,[t[33]||(t[33]=a("strong",null,"所属环境：",-1)),s(p,{size:"small",color:"purple",variant:"outlined"},{default:e(()=>[o(d(n.environment_name),1)]),_:2},1024)]),a("div",yt,[t[34]||(t[34]=a("strong",null,"完整路径：",-1)),o(d(n.environment_name)+"/"+d(n.datacenter_name),1)]),a("div",bt,[t[35]||(t[35]=a("strong",null,"区域数量：",-1)),o(d((($=n.areas)==null?void 0:$.length)||0),1)]),n.areas&&n.areas.length>0?(r(),u("div",kt,[t[36]||(t[36]=a("strong",null,"包含区域：",-1)),(r(!0),u(x,null,D(n.areas,B=>(r(),y(p,{key:B.area_name,size:"small",variant:"outlined",color:"info",class:"mr-1 mt-1"},{default:e(()=>[o(d(B.area_name),1)]),_:2},1024))),128))])):g("",!0)]}),_:2},1024)]),_:2},1024))),128))]))])]),_:1}),s(N,{value:"areas"},{default:e(()=>[a("div",xt,[j.value.length===0?(r(),u("div",Dt,[s(_,{size:"48",color:"grey-lighten-1",class:"mb-2"},{default:e(()=>t[37]||(t[37]=[o("mdi-folder-outline")])),_:1,__:[37]}),t[38]||(t[38]=a("p",{class:"text-body-2 text-grey-darken-1"},"暂无网络区域数据",-1))])):(r(),u("div",wt,[(r(!0),u(x,null,D(j.value,(n,f)=>(r(),y(m,{key:`area-${f}`,variant:"outlined",class:"mb-3"},{default:e(()=>[s(C,{class:"d-flex align-center"},{default:e(()=>[s(_,{class:"mr-2",color:"info"},{default:e(()=>t[39]||(t[39]=[o("mdi-folder-outline")])),_:1,__:[39]}),o(" "+d(n.area_name||`区域 ${f+1}`)+" ",1),s(z),s(p,{size:"small",color:"info",variant:"outlined"},{default:e(()=>t[40]||(t[40]=[o(" 网络区域 ")])),_:1,__:[40]})]),_:2},1024),s(V,null,{default:e(()=>[a("div",zt,[t[41]||(t[41]=a("strong",null,"所属环境：",-1)),s(p,{size:"small",color:"purple",variant:"outlined"},{default:e(()=>[o(d(n.environment_name),1)]),_:2},1024)]),a("div",Ct,[t[42]||(t[42]=a("strong",null,"所属数据中心：",-1)),s(p,{size:"small",color:"primary",variant:"outlined"},{default:e(()=>[o(d(n.datacenter_name),1)]),_:2},1024)]),a("div",Vt,[t[43]||(t[43]=a("strong",null,"完整路径：",-1)),o(d(n.environment_name)+"/"+d(n.datacenter_name)+"/"+d(n.area_name),1)])]),_:2},1024)]),_:2},1024))),128))]))])]),_:1}),s(N,{value:"devices"},{default:e(()=>[a("div",Nt,[!l.parsedData.components||l.parsedData.components.length===0?(r(),u("div",$t,[s(_,{size:"48",color:"grey-lighten-1",class:"mb-2"},{default:e(()=>t[44]||(t[44]=[o("mdi-router-outline")])),_:1,__:[44]}),t[45]||(t[45]=a("p",{class:"text-body-2 text-grey-darken-1"},"暂无设备数据",-1))])):(r(),u("div",Bt,[(r(!0),u(x,null,D(l.parsedData.components,(n,f)=>(r(),y(m,{key:`device-${f}`,variant:"outlined",class:"mb-3"},{default:e(()=>[s(C,{class:"d-flex align-center"},{default:e(()=>[s(_,{class:"mr-2",color:"success"},{default:e(()=>t[46]||(t[46]=[o("mdi-router")])),_:1,__:[46]}),o(" "+d(n.name||`设备 ${f+1}`)+" ",1),s(z),n.type?(r(),y(p,{key:0,size:"small",color:"success",variant:"outlined"},{default:e(()=>[o(d(n.type),1)]),_:2},1024)):g("",!0)]),_:2},1024),s(V,null,{default:e(()=>[n.full_path||n.path?(r(),u("div",Ot,[t[47]||(t[47]=a("strong",null,"完整路径：",-1)),o(d(n.full_path||n.path),1)])):g("",!0),n.environment_path?(r(),u("div",St,[t[48]||(t[48]=a("strong",null,"所属环境：",-1)),s(p,{size:"small",color:"purple",variant:"outlined"},{default:e(()=>[o(d(n.environment_path),1)]),_:2},1024)])):g("",!0),n.datacenter_path?(r(),u("div",jt,[t[49]||(t[49]=a("strong",null,"所属数据中心：",-1)),s(p,{size:"small",color:"primary",variant:"outlined"},{default:e(()=>[o(d(n.datacenter_path.split("/").pop()),1)]),_:2},1024)])):g("",!0),n.area_path?(r(),u("div",At,[t[50]||(t[50]=a("strong",null,"所属区域：",-1)),s(p,{size:"small",color:"info",variant:"outlined"},{default:e(()=>[o(d(n.area_path.split("/").pop()),1)]),_:2},1024)])):g("",!0),n.category?(r(),u("div",Jt,[t[51]||(t[51]=a("strong",null,"设备类别：",-1)),s(p,{size:"small",color:"success",variant:"outlined"},{default:e(()=>[o(d(U(n.category)),1)]),_:2},1024)])):g("",!0),n.attributes&&Object.keys(n.attributes).length>0?(r(),u("div",Tt,[t[52]||(t[52]=a("strong",null,"设备属性：",-1)),a("div",Mt,[a("pre",Pt,d(JSON.stringify(n.attributes,null,2)),1)])])):g("",!0),a("div",It,[s(_,{size:"16",color:"info",class:"mr-1"},{default:e(()=>t[53]||(t[53]=[o("mdi-information-outline")])),_:1,__:[53]}),t[54]||(t[54]=a("span",{class:"text-caption text-grey-darken-1"}," 当前从文本中提取的基础信息。如需IP地址、型号等详细信息，可扩展输入格式。 ",-1))])]),_:2},1024)]),_:2},1024))),128))]))])]),_:1}),s(N,{value:"connections"},{default:e(()=>[a("div",Ut,[!l.parsedData.connections||l.parsedData.connections.length===0?(r(),u("div",Et,[s(_,{size:"48",color:"grey-lighten-1",class:"mb-2"},{default:e(()=>t[55]||(t[55]=[o("mdi-connection")])),_:1,__:[55]}),t[56]||(t[56]=a("p",{class:"text-body-2 text-grey-darken-1"},"暂无连接数据",-1))])):(r(),u("div",Ft,[(r(!0),u(x,null,D(l.parsedData.connections,(n,f)=>(r(),y(m,{key:`conn-${f}`,variant:"outlined",class:"mb-3"},{default:e(()=>[s(C,{class:"d-flex align-center"},{default:e(()=>[s(_,{class:"mr-2",color:"warning"},{default:e(()=>t[57]||(t[57]=[o("mdi-connection")])),_:1,__:[57]}),o(" 连接 "+d(f+1)+" ",1),s(z),n.type?(r(),y(p,{key:0,size:"small",color:"warning",variant:"outlined"},{default:e(()=>[o(d(n.type),1)]),_:2},1024)):g("",!0)]),_:2},1024),s(V,null,{default:e(()=>[a("div",Lt,[a("div",qt,[s(p,{color:"primary",variant:"flat",class:"mr-2"},{default:e(()=>[o(d(n.source_path||n.source||"源设备"),1)]),_:2},1024),s(_,{class:"mx-2"},{default:e(()=>t[58]||(t[58]=[o("mdi-arrow-right")])),_:1,__:[58]}),s(p,{color:"secondary",variant:"flat",class:"ml-2"},{default:e(()=>[o(d(n.target_path||n.target||"目标设备"),1)]),_:2},1024)])]),n.bandwidth?(r(),u("div",Gt,[t[59]||(t[59]=a("strong",null,"带宽：",-1)),o(d(n.bandwidth),1)])):g("",!0),n.ports?(r(),u("div",Ht,[t[60]||(t[60]=a("strong",null,"端口：",-1)),o(d(n.ports),1)])):g("",!0),n.description?(r(),u("div",Kt,[t[61]||(t[61]=a("strong",null,"描述：",-1)),o(d(n.description),1)])):g("",!0)]),_:2},1024)]),_:2},1024))),128))]))])]),_:1}),s(N,{value:"raw"},{default:e(()=>[a("div",Qt,[s(m,{variant:"outlined"},{default:e(()=>[s(C,{class:"d-flex align-center"},{default:e(()=>[s(_,{class:"mr-2",color:"grey-darken-1"},{default:e(()=>t[62]||(t[62]=[o("mdi-code-json")])),_:1,__:[62]}),t[64]||(t[64]=o(" 原始JSON数据 ")),s(z),s(q,{variant:"outlined",size:"small","prepend-icon":"mdi-content-copy",onClick:E},{default:e(()=>t[63]||(t[63]=[o(" 复制 ")])),_:1,__:[63]})]),_:1,__:[64]}),s(V,null,{default:e(()=>[a("div",Rt,[a("pre",Wt,d(JSON.stringify(l.parsedData,null,2)),1)])]),_:1})]),_:1})])]),_:1})]),_:1},8,["modelValue"])])])):(r(),u("div",Y,[a("div",Z,[s(_,{size:"64",color:"grey-lighten-1",class:"mb-4"},{default:e(()=>t[3]||(t[3]=[o(" mdi-database-outline ")])),_:1,__:[3]}),t[4]||(t[4]=a("h4",{class:"text-h6 text-grey-darken-1 mb-2"},"暂无解析数据",-1)),t[5]||(t[5]=a("p",{class:"text-body-2 text-grey-darken-1 mb-4"}," 请先输入拓扑文本并进行解析 ",-1))])]))])}}}),Zt=Q(Xt,[["__scopeId","data-v-aa7ce63f"]]);export{Zt as default};
